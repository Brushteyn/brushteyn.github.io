(window.webpackJsonp=window.webpackJsonp||[]).push([[50,14,18,20,21,26,27,29,30,31,34,35,47,48,49,53,62],{274:function(t,e,r){"use strict";e.a=param=>{var t={};return param&&(Array.isArray(param)?param.forEach((e=>{t["_".concat(e)]=!0})):t["_".concat(param)]=!0),t}},276:function(t,e,r){},280:function(t,e,r){"use strict";r.r(e);r(32);var n=r(274),l={name:"TButton",props:{mod:{type:[Array,String],default:""},type:{type:String,default:""}},computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}}},o=(r(282),r(31)),component=Object(o.a)(l,(function(){var t=this;return(0,t._self._c)("button",{staticClass:"button",class:t.classList},[t._t("default")],2)}),[],!1,null,"6bce06d2",null);e.default=component.exports},281:function(t,e,r){"use strict";e.a=(t,e)=>e[t%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]]},282:function(t,e,r){"use strict";r(276)},295:function(t,e,r){"use strict";r.r(e);var n={name:"TRuble",props:{symbol:{default:"₽",type:String}}},l=(r(312),r(31)),component=Object(l.a)(n,(function(){var t=this;return(0,t._self._c)("span",{staticClass:"ruble"},[t._v(t._s(t.symbol))])}),[],!1,null,"11b3297e",null);e.default=component.exports},297:function(t,e,r){},298:function(t,e,r){},299:function(t,e,r){},300:function(t,e,r){t.exports=r.p+"img/ef1143c.svg"},301:function(t,e,r){"use strict";r.r(e);r(32);var n=r(274),l={name:"TButton",props:{mod:{type:[Array,String],default:""},type:{type:String,default:""}},computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}}},o=(r(310),r(31)),component=Object(o.a)(l,(function(){var t=this;return(0,t._self._c)("button",{staticClass:"button",class:t.classList},[t._t("default")],2)}),[],!1,null,"68eac052",null);e.default=component.exports},305:function(t,e,r){},306:function(t,e,r){"use strict";r.r(e);r(32),r(25),r(33);var n=r(308),l=(r(309),r(274)),o=t=>{var path=t.composedPath&&t.composedPath()||t.path,e=t.target;if(null!=path)return path.includes(window)?path:path.concat(window);if(e===window)return[window];return[e].concat(function t(e,r){r=r||[];var n=e.parentNode;return n?t(n,r.concat(n)):r}(e),window)},c={name:"TSelect",components:{PerfectScrollbar:n.PerfectScrollbar},props:{options:{type:Array,required:!0},values:{type:[String,Object],default:()=>{}},type:{type:String,default:""},mod:{type:[Array,String],default:""},sort:{type:String,default:"asc"},disable:{type:Boolean,default:!1}},data:()=>({selected:{},open:!1}),computed:{openClass(){return Object(l.a)(this.open,"open")},modClass(){return Object(l.a)(this.mod)},typeClass(){return Object(l.a)(this.type)},disableClass(){return Object(l.a)(this.disable,"disabled")},classList(){return Object.assign({},this.modClass,this.typeClass,this.openClass,this.disableClass)}},created(){this.selected=this.options[0]},mounted(){this.setSelected(this.selected)},methods:{setSelected(option){this.selected=option,this.open=!1,this.$emit("change",option)},dropdownClose(t){var e=this.$refs.dropdown;o(t).includes(e)||(this.open=!1)}}},d=(r(311),r(31)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select",class:t.classList,on:{blur:function(e){t.open=!1}}},[e("div",{staticClass:"selected",class:{open:t.open},on:{click:function(e){t.open=!t.open}}},[t._v("\n    "+t._s(t.selected.name)+"\n  ")]),t._v(" "),e("div",{staticClass:"items-wrap",class:{selectHide:!t.open}},[e("perfect-scrollbar",[e("div",{staticClass:"items"},t._l(t.options,(function(option,i){return e("div",{key:i,on:{click:function(e){return t.setSelected(option)}}},[t._v("\n          "+t._s(option.name)+"\n        ")])})),0)])],1)])}),[],!1,null,"353d0345",null);e.default=component.exports},310:function(t,e,r){"use strict";r(297)},311:function(t,e,r){"use strict";r(298)},312:function(t,e,r){"use strict";r(299)},314:function(t,e,r){},315:function(t,e,r){},316:function(t,e,r){"use strict";r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return c}));var n=r(317),l=n.helpers.regex("phone",/^\+7 \d{3} \d{3} \d\d \d\d$/);function o(t){var e="";return t.$invalid&&(e="Неверный формат"),t.required||(e="Обязательное поле"),"passwordCheck"in t&&!t.passwordCheck&&(e="Неверный пароль"),e}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(t).toLocaleString("ru",{style:"currency",currency:"RUB",currencyDisplay:"symbol",minimumFractionDigits:e,maximumFractionDigits:e})}},318:function(t,e,r){},331:function(t,e,r){},332:function(t,e,r){},333:function(t,e,r){},334:function(t,e,r){},335:function(t,e,r){},336:function(t,e,r){"use strict";r(305)},337:function(t,e,r){},338:function(t,e,r){},339:function(t,e,r){},347:function(t,e,r){"use strict";r.r(e);r(32);var n=r(274),l={name:"TInput",props:{mod:{type:[Array,String],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},error:{type:Boolean,default:!1},errorText:{type:String,default:"Данные введены неверно"},value:{type:String,default:""},name:{type:String,default:"input"}},computed:{activeClass(){return Object(n.a)(this.value,"active")},errorClass(){return Object(n.a)(this.error,"error")},modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.activeClass,this.errorClass)}},methods:{emitInput(t){this.$emit("input",t.target.value)}}},o=(r(336),r(31)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-wrapper",class:t.classList},["tel"===t.type?e("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"input",attrs:{id:t.name,type:t.type,placeholder:t.placeholder,name:t.name,autocomplete:"off"},on:{input:t.emitInput}}):e("input",{staticClass:"input",attrs:{type:"input",placeholder:t.placeholder,name:"name",required:""}}),t._v(" "),e("div",{staticClass:"error-text"},[t._v(t._s(t.errorText))])])}),[],!1,null,"3dfd219c",null);e.default=component.exports},348:function(t,e,r){"use strict";r.r(e);var n=r(2),l={name:"MForm",props:{data:{type:Object,default:()=>{}},action:{type:String,default:""},method:{type:String,default:"GET"},validation:{type:[Object,Boolean],default:!1},submitForm:{type:Function,default:()=>{}}},methods:{callAction(){var t=this;return Object(n.a)((function*(){return t.$api.forms&&t.$api.forms[t.action]?t.$api.forms[t.action](t.data):yield t.$axios[t.method.toLocaleLowerCase()](t.action,t.data)}))()},sendForm(){var t;"object"==typeof this.validation&&this.validation.$touch(),null!==(t=this.validation)&&void 0!==t&&t.$invalid||this.sendData()},sendData(){if(!this.action&&this.submitForm)this.submitForm(this.data);else{var t=this.callAction();this.$emit("pending",t),t.then((t=>{this.$emit("submit",t.data,t)})).catch((t=>this.$emit("submit",t)))}}}},o=r(31),component=Object(o.a)(l,(function(){var t=this;return(0,t._self._c)("div",[t._t("default",null,{submit:t.sendForm})],2)}),[],!1,null,null,null);e.default=component.exports},349:function(t,e,r){t.exports=r.p+"img/f8f70e7.svg"},350:function(t,e,r){t.exports=r.p+"img/9eaed10.svg"},352:function(t,e,r){"use strict";r(314)},353:function(t,e,r){"use strict";r(315)},354:function(t,e,r){"use strict";r(420),r(37);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={id:0,value:"Ближайшее",name:"Ближайшее"},l={id:0,value:"Завтра",name:"Завтра"},o=[],c=(t,e,r)=>(void 0===r&&(r=e,e=0),t>=Math.min(e,r)&&t<=Math.max(e,r));function d(t,e){return(t+24-e)%24}for(var m=new Date,h=m.getHours(),_=m.getMinutes(),v=m.getUTCHours(),f=m.getFullYear(),y=m.getMonth(),C=m.getDate(),k=v+3,w=h-k,S=(t+w+24)%24,O=e-1-t,P=[],T=c(h-w,t,e-1)||k<t,i=S;i<=S+O;i++)for(var x=0;x<60/r;x++)P.push([i%24,x*r]);var j=T?P.filter((t=>t[0]>h||t[0]===h&&t[1]>_)):[],L=0;if(j.length&&(n.value=Math.floor(new Date(f,y,C,d(h,w),_,0,0).getTime()/1e3),o.push(n),j.map((t=>{var time=new Date(f,y,C,d(t[0],w),0===t[1]?0:t[1],0,0),e=Math.floor(time.getTime()/1e3);o.push({id:++L,value:e,name:"".concat(t[0].toString().padStart(2,"0"),":").concat(t[1].toString().padStart(2,"0"))})}))),j.length<=5){l.id=++L;var $=P[0];l.value=Math.floor(new Date(f,y,C+1,d($[0],w),0===$[1]?0:$[1],0,0).getTime()/1e3),o.push(l),P.map((t=>{var time=new Date(f,y,C+1,d(t[0],w),0===t[1]?0:t[1],0,0),e=Math.floor(time.getTime()/1e3);o.push({id:++L,value:e,name:"".concat(t[0].toString().padStart(2,"0"),":").concat(t[1].toString().padStart(2,"0"))})}))}return o}},355:function(t,e,r){"use strict";r(318)},363:function(t,e,r){},376:function(t,e,r){"use strict";r.r(e);r(32);var n=r(274),l={name:"TTabs",model:{prop:"value",event:"change"},props:{mod:{type:[Array,String],default:""},id:{type:[Number,String],default:""},type:{type:String,default:""},name:{type:String,default:""},value:{type:[Number,String,Object],default:""},tabs:{type:Array,default:()=>[]}},data:()=>({currentTab:{}}),computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}},created(){this.initValue?this.currentTab=this.initValue:this.currentTab=this.tabs[0]},methods:{changeTab(t){this.currentTab=t,this.$emit("change",this.currentTab)}}},o=(r(352),r(31)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs",class:t.classList},["news"===t.type?[e("nuxt-link",{staticClass:"tabs__tab",class:{_active:"/static/information/news"===t.$route.path},attrs:{to:"/static/information/news"}},[t._v("Новости")]),t._v(" "),e("nuxt-link",{staticClass:"tabs__tab",class:{_active:"/static/information/smi-o-nas"===t.$route.path},attrs:{to:"/static/information/smi-o-nas"}},[t._v("СМИ о нас\n    ")])]:"purchase"===t.type?t._l(t.tabs,(function(r,n){return e("nuxt-link",{key:n,staticClass:"tabs__tab",class:{_active:r.active},attrs:{to:r.path}},[t._v("\n      "+t._s(r.name)+"\n    ")])})):t._e()],2)}),[],!1,null,"2f5a8700",null);e.default=component.exports},377:function(t,e,r){"use strict";r.r(e);r(32),r(15),r(21),r(37);var n=r(281),l=r(274),o={name:"TBankRow",components:{TRuble:r(295).default},props:{mod:{type:[Array,String],default:""},more:{type:Boolean,default:!1},bank:{type:Object,default:()=>{}}},data(){return{moreOn:this.more}},computed:{modClass(){return Object(l.a)(this.mod)},classList(){return Object.assign({},this.modClass)},time(){return"".concat(this.bank.year_to," ").concat(Object(n.a)(this.bank.year_to,["года","лет","лет"]))},rateFormat(){return this.bank.rate.toString().replace(".",",")},programItemText(){var text=Object(n.a)(this.sorter.length,["программа","программы","программ"]);return"".concat(this.sorter.length," ").concat(text)},monthlyItemText(){return"".concat(this.$screen.width>767?"ежемесячный ":"","Платеж")},sorter(){return this.$store.state.mortgage.banks.filter((t=>t.bank_id===this.bank.bank_id))}},methods:{orderShow(){this.$vfm.show("orderPopup",this.bank)}}},c=(r(353),r(31)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bank_wrap",on:{click:t.orderShow}},[e("div",{staticClass:"bank-row",class:t.classList},[e("div",{staticClass:"bank-row__item _logo"},[e("img",{staticClass:"bank-row__image",attrs:{src:t.bank.logo_color,alt:""}}),t._v(" "),e("p",{staticClass:"bank-row__text logo-text",domProps:{innerHTML:t._s(t.bank.program)}})]),t._v(" "),e("div",{staticClass:"bank-row__item _desktop _program"},[e("p",{staticClass:"bank-row__text",domProps:{innerHTML:t._s(t.bank.program)}})]),t._v(" "),e("div",{staticClass:"bank-row__item _rate"},[e("span",{staticClass:"bank-row__label"},[t._v("Cтавка")]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.rateFormat)),e("t-ruble",{attrs:{symbol:"%"}})],1)]),t._v(" "),e("div",{staticClass:"bank-row__item _sum"},[e("span",{staticClass:"bank-row__label"},[t._v("Cумма")]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.bank.summa.toLocaleString("ru-RU"))),e("t-ruble")],1)]),t._v(" "),e("div",{staticClass:"bank-row__item _time"},[t._m(0),t._v(" "),e("span",{staticClass:"bank-row__text"},[e("span",{staticClass:"lg_time"},[t._v("до")]),t._v(" "+t._s(t.time))])]),t._v(" "),e("div",{staticClass:"bank-row__item _monthly"},[e("span",{staticClass:"bank-row__label"},[t._v(t._s(t.monthlyItemText))]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.bank.month.toLocaleString("ru-RU"))+" "),e("t-ruble"),e("span",{staticClass:"sm_mouth"},[t._v("/мес")])],1)]),t._v(" "),e("div",{staticClass:"bank-row__plug"})])])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"bank-row__label"},[t._v("Срок "),e("span",{staticClass:"xs_time"},[t._v("  до")])])}],!1,null,"4ed89594",null);e.default=component.exports},378:function(t,e,r){"use strict";r.r(e);r(32),r(15),r(21),r(37);var n=r(274),l=r(295),o=r(281),c={name:"TRangeSlider",components:{TRuble:l.default},props:{mod:{type:[Array,String],default:""},range:{type:Array,default:()=>[0,100]},step:{type:[Number,String],default:1},type:{type:String,default:"price"},formatType:{type:String,default:"money"},value:{type:Number,default:0},data:{type:Object,default:()=>{}},percent:{type:[Number,String],default:0}},data:()=>({val:50,currentValueNumber:null,currentValueFormatted:"",showRuble:!0}),computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass)},sliderOpts(){return{min:this.range[0],max:this.range[1],interval:this.step,tooltip:"none",dotSize:12,height:"5px"}},unit(){return"money"===this.formatType?"":"year"===this.formatType?Object(o.a)(this.currentValueNumber,["год","года","лет"]):"month"===this.formatType?Object(o.a)(this.currentValueNumber,["месяц","месяца","месяцев"]):""}},watch:{value(t){this.currentValueNumber=t},currentValueNumber(t){this.currentValueFormatted=this.formatMoney(t),this.formattedValueAddUnit(),this.changeSlider()}},created(){this.currentValueNumber=this.value,this.currentValueFormatted=this.formatMoney(this.currentValueNumber)},mounted(){this.changeSlider()},methods:{changeSlider(){this.$emit("change",this.currentValueNumber)},setInputFocus(){this.$refs.inputField.focus()},inputFocus(t){this.showRuble=!1;var e=t.currentTarget.value.replace(/[^\d .-]|(-)/g,"");this.currentValueFormatted=this.formatMoney(e)},inputBlur(t){this.showRuble=!0;var e=t.currentTarget.value,r=Number(e.replace(/\s/g,""));this.currentValueNumber=Math.round(this.checkValue(r)/this.step)*this.step,this.formattedValueAddUnit()},inputSubmit(t){t.currentTarget.blur()},checkValue(t){return t>this.range[1]?this.range[1]:t<this.range[0]?this.range[0]:t},formatMoney(t){if(!t)return t;var e=null;return e=Number("number"==typeof t?t.toString().replace(/[^\d.-]|(-)/g,""):t.replace(/[^\d.-]|(-)/g,"")),new Intl.NumberFormat("en-US",{style:"decimal",useGrouping:!0,maximumSignificantDigits:11}).format(e).replace(/,/g," ")},formattedValueAddUnit(){this.currentValueFormatted="".concat(this.currentValueFormatted," ").concat(this.unit)}}},d=(r(355),r(31)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",{ref:"rangeSliderContainer",staticClass:"range-slider",class:t.classList},[e("div",{staticClass:"range-slider__data",on:{click:t.setInputFocus}},[e("input",{ref:"inputField",staticClass:"range-slider__time _start",attrs:{type:"text",inputmode:"numeric"},domProps:{value:t.currentValueFormatted},on:{blur:t.inputBlur,focus:t.inputFocus,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputSubmit.apply(null,arguments)}}}),t._v(" "),"money"===t.formatType&&t.showRuble?e("t-ruble",{staticClass:"range-slider__input-rouble"}):t._e()],1),t._v(" "),e("vue-slider",t._b({on:{change:t.changeSlider},model:{value:t.currentValueNumber,callback:function(e){t.currentValueNumber=e},expression:"currentValueNumber"}},"vue-slider",t.sliderOpts,!1))],1)])}),[],!1,null,"2ac8cdd6",null);e.default=component.exports},392:function(t,e,r){"use strict";r(331)},393:function(t,e,r){"use strict";r(332)},417:function(t,e,r){"use strict";r(333)},418:function(t,e,r){"use strict";r(334)},419:function(t,e,r){"use strict";r(335)},422:function(t,e,r){"use strict";r(337)},423:function(t,e,r){"use strict";r(338)},424:function(t,e,r){"use strict";r(339)},437:function(t,e,r){"use strict";r.r(e);r(32);var n=r(279),l=r(278),o=r.n(l),c=r(274);n.a.registerPlugin(o.a);var d={name:"TPurchaseSteps",props:{mod:{type:[Array,String],default:""},type:{type:String,default:""},data:{type:Array,default:()=>[]}},computed:{modClass(){return Object(c.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)},container(){return this.$refs.container},step(){return this.$refs.step}},mounted(){this.$nextTick((()=>{window.matchMedia("(max-width: 1024px)").matches||(this.setAnimation(),this.runAnimation())}))},methods:{setAnimation(){n.a.set(this.step,{scale:"0.95"})},runAnimation(){var t={trigger:this.container,scrub:1,start:"-=700%",end:"+=100%"};n.a.to([this.step],{scale:"1",scrollTrigger:t})}}},m=(r(392),r(31)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"step container",class:t.classList},t._l(t.data,(function(r,n){return e("div",{key:r.id,ref:"step",refInFor:!0,staticClass:"step-item"},[e("div",{staticClass:"step-num"},[t._v("0"+t._s(n+1))]),t._v(" "),e("div",{staticClass:"step-text",domProps:{innerHTML:t._s(r.text)}})])})),0)}),[],!1,null,"df72cc42",null);e.default=component.exports},438:function(t,e,r){"use strict";r.r(e);r(32),r(15),r(21),r(37);var n=r(274),l=r(295),o=r(377),c=r(281),d={name:"MBankItem",components:{TRuble:l.default,TBankRow:o.default},props:{type:{type:String,default:""},mod:{type:[Array,String],default:""},bank:{type:Object,default:()=>{}},index:{type:Number,default:NaN},more:{type:Boolean,default:!0}},data:()=>({moreOn:!0,popup:!1}),computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass)},plugCondition(){return this.bank.others&&this.bank.others.length<1},time(){return"".concat(this.bank.year_to," ").concat(Object(c.a)(this.bank.year_to,["года","лет","лет"]))},rateFormat(){return this.bank.rate.toString().replace(".",",")},programItemText(){var text=Object(c.a)(this.bank.others.length,["программа","программы","программ"]);return"".concat(this.bank.others.length," ").concat(text)},monthlyItemText(){return"".concat(this.$screen.width>767?"ежемесячный ":"","Платеж")}},methods:{openPopup(){this.moreOn=!this.moreOn,this.popup=!this.popup},orderShow(){this.$vfm.show("orderPopup",this.bank)}}},m=(r(393),r(31)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bank"},[e("div",{staticClass:"bank-row",class:t.classList,on:{click:t.orderShow}},[e("div",{staticClass:"decor"},[e("svg-icon",{attrs:{name:"cut-form"}}),t._v(" "),e("svg-icon",{attrs:{name:"cut-form"}})],1),t._v(" "),e("div",{staticClass:"bank-row__item _logo"},[e("img",{attrs:{src:t.bank.logo_color||t.bank.logo,alt:""}}),t._v(" "),e("p",{staticClass:"bank-row__text logo-text",domProps:{innerHTML:t._s(t.bank.program)}})]),t._v(" "),e("div",{staticClass:"bank-row__item _desktop _program"},[e("p",{staticClass:"bank-row__text",domProps:{innerHTML:t._s(t.bank.program)}})]),t._v(" "),e("div",{staticClass:"bank-row__item _rate"},[e("span",{staticClass:"bank-row__label"},[t._v("Ставка")]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.rateFormat)),e("t-ruble",{attrs:{symbol:"%"}})],1)]),t._v(" "),e("div",{staticClass:"bank-row__item _sum"},[e("span",{staticClass:"bank-row__label"},[t._v("Сумма")]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.bank.summa.toLocaleString("ru-RU"))),e("t-ruble")],1)]),t._v(" "),e("div",{staticClass:"bank-row__item _time"},[t._m(0),t._v(" "),e("span",{staticClass:"bank-row__text"},[e("span",{staticClass:"lg_time"},[t._v("до")]),t._v(" "+t._s(t.time))])]),t._v(" "),e("div",{staticClass:"bank-row__item _monthly"},[e("span",{staticClass:"bank-row__label"},[t._v(t._s(t.monthlyItemText))]),t._v(" "),e("span",{staticClass:"bank-row__text"},[t._v(t._s(t.bank.month.toLocaleString("ru-RU"))+" "),e("t-ruble"),e("span",{staticClass:"sm_mouth"},[t._v("/мес")])],1)]),t._v(" "),t.moreOn?e("button",{staticClass:"bank-row__more",class:{_plug:t.plugCondition},on:{click:function(e){return e.stopPropagation(),t.openPopup.apply(null,arguments)}}},[t._v("\n      +"+t._s(t.bank.others.length)+"\n      "),e("span",{staticClass:"bank-row__more-popup"},[t._v("показать еще "+t._s(t.programItemText)+" этого банка")])]):t._e(),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.moreOn,expression:"!moreOn"}],staticClass:"bank-row__close",on:{click:function(e){return e.stopPropagation(),t.openPopup.apply(null,arguments)}}},[e("svg-icon",{attrs:{name:"close"}})],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.popup,expression:"popup"}],staticClass:"bank-row__others"},[t.bank.others?t._l(t.bank.others,(function(r){return e("t-bank-row",{key:r.id,attrs:{bank:r,mod:t.mod}})})):t._e()],2)])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"bank-row__label"},[t._v("Срок "),e("span",{staticClass:"xs_time"},[t._v("  до")])])}],!1,null,"5fa4c5d2",null);e.default=component.exports},439:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this._self._c;return t("div",{staticClass:"card__price"},[t("img",{staticClass:"card__price-flame",attrs:{src:r(300)}}),this._v(" 18 812 227 ₽")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card__label"},[t._v("\n        +3\n        "),e("div",{staticClass:"labels-popup"},[e("div",{staticClass:"card__label"},[t._v("С отделкой")]),t._v(" "),e("div",{staticClass:"card__label"},[t._v("Терасса/патио")]),t._v(" "),e("div",{staticClass:"card__label"},[t._v("3х разовое питание")])])])}],l=(r(25),r(33),r(10),r(12),r(32),r(316)),o=r(274),c={name:"TCard",components:{TButton:r(280).default},props:{mod:{type:[Array,String],default:""},type:{type:String,default:"flat",validator:t=>["flat","type"].includes(t)},data:{type:[Object,Number],default:()=>({id:134,name:"112",floor:"99",floors:"8-99",count:"28 предложений",flat_number:134,house_number:9,section:1,price:6931027,mortgage_price_per_month:29851,area:27.24,area_from:27.24,rooms_count:0,rooms_text:"3 спальня",options:[],deadline:"II кв. 2025 г.",type_id:1,type_name:"001",scheme:"/svg/plan.svg"})}},data:()=>({tippyOptions:{theme:"features",animation:"fade",animateFill:!1,duration:[100,100]}}),computed:{url(){return"".concat(this.isFlat?"/choose/flat/".concat(this.data.id):"/choose/type/".concat(this.data.id))},schemeSrc(){var t;return this.data.scheme||this.data.plans.scheme||(null===(t=this.data)||void 0===t?void 0:t.plans[0].scheme_url)},isFlat(){return"flat"===this.type},isWide(){return this.mod.includes("wide")},title(){return this.isFlat?"квартира №".concat(this.data.flat_number):"тип ".concat(this.data.name)},offer(){return this.isFlat?"корпус ".concat(this.data.section):this.data.count},area(){var area=this.data.area||this.data.area_from;return(this.isFlat?"":"от ")+"".concat(Number(area).toLocaleString("ru-RU",{maximumFractionDigits:1})," м²")},floor(){var t;return t=this.isWide?this.$screen.width>=1024?"этаж":"эт.":this.$screen.width>1280?"этаж":"эт.","".concat(this.isFlat?this.data.floor:this.data.floors," ").concat(t)},rooms(){var t=this.isWide?1024:1280;if(this.$screen.width<t){var[e]=this.data.rooms_text.split(" ");return isNaN(e)?"ст":"".concat(e,"с")}return this.data.rooms_text.toLowerCase()},price(){var t=Object(l.b)(this.data.price||this.data.price_from);return(this.isFlat?"":"от ")+t},mortgage(){return Object(l.b)(this.data.mortgage_price_per_month)},options(){return this.data.options},optionsLimit(){return this.$screen.width>1280?2:1},optionsVisible(){var t;return(null===(t=this.options)||void 0===t?void 0:t.slice(0,this.optionsLimit))||[]},optionsMore(){var t;return(null===(t=this.options)||void 0===t?void 0:t.slice(this.optionsLimit))||[]},optionsMoreCount(){return this.optionsMore.length},modClass(){return Object(o.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}}},d=(r(417),r(31)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",class:t.classList},[e("div",{staticClass:"card__top"},[e("div",{staticClass:"card__header"},[e("h1",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type,expression:"type === 'default'"}],staticClass:"card__title"},[t._v("Квартира №283")]),t._v(" "),e("h1",{directives:[{name:"show",rawName:"v-show",value:"type"===t.type,expression:"type === 'type'"}],staticClass:"card__title"},[t._v(t._s(t.title))])]),t._v(" "),e("div",{staticClass:"card__image-wrapper"},[e("img",{staticClass:"card__image",attrs:{src:t.schemeSrc}})])]),t._v(" "),e("div",{staticClass:"card__bottom"},[e("div",{staticClass:"card__info"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type,expression:"type === 'default'"}]},[t._v("1 корпус")]),t._v(" "),e("span",[t._v(t._s(t.rooms))]),t._v(" "),e("span",[t._v(t._s(t.area))]),t._v(" "),e("span",[t._v(t._s(t.floor))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type,expression:"type === 'default'"}],staticClass:"card__price-wrapper"},[t._m(0),t._v(" "),e("div",{staticClass:"card__oldprice"},[t._v("18 812 227 ₽")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"type"===t.type,expression:"type === 'type'"}],staticClass:"card__price-wrapper"},[e("div",{staticClass:"card__price"},[t._v(t._s(t.price))])]),t._v(" "),e("nuxt-link",{staticClass:"card__monthly",attrs:{to:"/"}},[t._v("в ипотеку от 19 717 ₽/мес")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type,expression:"type === 'default'"}],staticClass:"card__labels"},[e("div",{staticClass:"card__label"},[t._v("С отделкой")]),t._v(" "),t._m(1)]),t._v(" "),e("TButton",{directives:[{name:"show",rawName:"v-show",value:"type"===t.type,expression:"type === 'type'"}],attrs:{mod:"yellow"}},[e("nuxt-link",{attrs:{to:t.url}},[t._v(t._s(t.offer))])],1)],1)])}),n,!1,null,"550a4d65",null);e.default=component.exports},440:function(t,e,r){"use strict";r.r(e);r(32);var n=r(274),l={name:"TPurchaseDocs",props:{mod:{type:[Array,String],default:""},type:{type:String,default:""},data:{type:Array,default:()=>[]}},computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}}},o=(r(418),r(31)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"docs",class:t.classList},[e("div",{staticClass:"docs-wrap container"},[e("div",{staticClass:"decor"},[e("svg-icon",{attrs:{name:"cut-form"}})],1),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"docs-block"},t._l(t.data,(function(r){return e("div",{key:r.id,staticClass:"docs-item"},[e("div",{staticClass:"docs-name"},[e("svg-icon",{attrs:{name:"star"}}),t._v(t._s(r.title))],1),t._v(" "),e("div",{staticClass:"docs-desc",domProps:{innerHTML:t._s(r.text)}})])})),0)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"docs-titleWrap"},[t("div",{staticClass:"docs-title"},[this._v("ПЕРЕЧЕНЬ НЕОБХОДИМЫХ ДОКУМЕНТОВ")])])}],!1,null,"6e8c7b29",null);e.default=component.exports},441:function(t,e,r){"use strict";r.r(e);r(32);var n=r(279),l=r(278),o=r.n(l),c=r(281),d=r(274);n.a.registerPlugin(o.a);var m={name:"TInstallmentInfo",props:{mod:{type:[Array,String],default:""},type:{type:String,default:"text"},data:{type:Array,default:()=>[]}},computed:{activeClass(){return Object(d.a)(this.value,"active")},errorClass(){return Object(d.a)(this.error,"error")},modClass(){return Object(d.a)(this.mod)},classList(){return Object.assign({},this.modClass,this.activeClass,this.errorClass)},container(){return this.$refs.container},item_0(){return this.$refs.item_0[0]},item_1(){return this.$refs.item_0[1]},item_2(){return this.$refs.item_1[0]},item_3(){return this.$refs.item_1[1]}},mounted(){this.$nextTick((()=>{window.matchMedia("(max-width: 767px)").matches||(this.setAnimation(),this.container&&(this.runAnimation1(),this.runAnimation2()))}))},methods:{setAnimation(){n.a.set(this.item_0,{x:"20%"}),n.a.set(this.item_1,{x:"-25%"}),n.a.set(this.item_2,{x:"-20%"}),n.a.set(this.item_3,{x:"25%"})},runAnimation1(){var t={trigger:this.container,scrub:1,start:"-=200%",end:"+=100%"};n.a.to([this.item_0,this.item_2],{x:0,scrollTrigger:t})},runAnimation2(){var t={trigger:this.container,scrub:1,start:"-=200%",end:"+=100%"};n.a.to([this.item_1,this.item_3],{x:0,scrollTrigger:t})},month:t=>Object(c.a)(t,["месяц","месяца","месяцев"])}},h=(r(419),r(31)),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"installment container"},t._l(t.data,(function(r){return e("div",{key:r.id,staticClass:"installment-item"},[e("div",{ref:"item_0",refInFor:!0,staticClass:"installment-img"},[e("img",{attrs:{src:r.img,alt:""}})]),t._v(" "),e("div",{ref:"item_1",refInFor:!0,staticClass:"installment-block"},[e("div",{staticClass:"installment-text-block"},[e("div",{staticClass:"installment-title"},[t._v(t._s(r.title))]),t._v(" "),e("div",{staticClass:"installment-text",domProps:{innerHTML:t._s(r.text)}})]),t._v(" "),e("div",{staticClass:"installment-label-block"},[e("div",{staticClass:"installment-label"},[e("div",{staticClass:"installment-persent"},[t._v(t._s(r.payment)+"%")]),t._v(" "),e("div",{staticClass:"installment-mouth"},[t._v("взнос")])]),t._v(" "),e("div",{staticClass:"installment-label"},[e("div",{staticClass:"installment-persent"},[t._v(t._s(r.month))]),t._v(" "),e("div",{staticClass:"installment-mouth"},[t._v(t._s(t.month(r.month)))])])])])])})),0)}),[],!1,null,"215f9ec4",null);e.default=component.exports},442:function(t,e,r){"use strict";r.r(e);var n=r(317),l=r(316),o=r(354),c=r(301),d=r(347),m=r(306),h={name:"MQuestions",components:{TForm:r(348).default,TSelect:m.default,TInput:d.default,TButton:c.default},data:()=>({options:["option","option2","option3"],form:{name:"",phone:"",info:""}}),computed:{timeSteps(){var t=15,e=19,r=9;return Object(o.a)(r,e,t)}},methods:{setTime(t){this.form.info=t.name},errorMessage:t=>Object(l.a)(t),formHandler(t){var{data:data}=t;data.success&&this.$vfm.show("successPopup")},agreementShow(){this.$vfm.show("agreementPopup")}},validations:{form:{name:{},phone:{required:n.required,phoneValidator:l.c},info:{}}}},_=(r(422),r(31)),component=Object(_.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"order"},[e("img",{staticClass:"order__leaves",attrs:{src:r(349),alt:""}}),t._v(" "),e("h3",{staticClass:"order__title"},[t._v("СОЗДАВАЙТЕ СВОЮ СКАЗКУ")]),t._v(" "),e("p",{staticClass:"order__text"},[t._v("Забронируйте свою квартиру уже сейчас")]),t._v(" "),e("t-form",{staticClass:"order__form",attrs:{data:t.form,validation:t.$v.form,action:"questions"},on:{submit:t.formHandler},scopedSlots:t._u([{key:"default",fn:function(r){var{submit:n}=r;return[e("TInput",{staticClass:"order__input",attrs:{error:t.$v.form.phone.$error,"error-text":t.errorMessage(t.$v.form.phone),placeholder:"телефон",type:"tel"},model:{value:t.$v.form.phone.$model,callback:function(e){t.$set(t.$v.form.phone,"$model",e)},expression:"$v.form.phone.$model"}}),t._v(" "),e("TSelect",{staticClass:"order__select",attrs:{options:t.timeSteps},on:{change:t.setTime}}),t._v(" "),e("TButton",{staticClass:"order__btn",attrs:{mod:"default"},nativeOn:{click:function(t){return n.apply(null,arguments)}}},[t._v("ЗАКАЗАТЬ ЗВОНОК")])]}}])}),t._v(" "),e("p",{staticClass:"order__agree"},[t._v("\n      Отправляя заявку, вы соглашаетесь с "),e("span",{staticClass:"order__agree-link",on:{click:t.agreementShow}},[t._v("условиями обработки персональных данных")])])],1),t._v(" "),e("img",{staticClass:"order__elf",attrs:{src:r(350),alt:""}})])}),[],!1,null,"0d0b3d6d",null);e.default=component.exports},443:function(t,e,r){"use strict";r.r(e);r(32);var n=r(391),l=r(378),o=r(295),c=r(274),d={name:"TFilterMortgage",components:{TRangeSlider:l.default,TRuble:o.default},props:{mod:{type:[Array,String],default:""},type:{type:String,default:"mortgage"},data:{type:Object,default:()=>{}},reset:{type:Boolean,default:!1},installmentPay:{type:Number,default:0}},data(){return{firstPaymentData:{ranges:[],step:this.data.price_step,formatType:"money"},filterParams:{payment:null,paymentPercent:null,price:null,time:null},filterParamsInit:{payment:null,paymentPercent:null,price:null,time:null}}},computed:{modClass(){return Object(c.a)(this.mod)},classList(){return Object.assign({},this.modClass)}},watch:{filterParams:{handler(t){this.sendData()},deep:!0},reset(t){t&&this.setDefaultParams()}},created(){this.setInitParams();var t=this.$route.query;if(Object(n.isEmpty)(t))this.setDefaultParams();else for(var param in t)if(Object.prototype.hasOwnProperty.call(this.filterParams,param)){var e=Array.isArray(t[param]);t[param]=e?t[param].map((t=>isNaN(Number(t))?t:Number(t))):isNaN(Number(t[param]))?t[param]:Number(t[param]),this.filterParams[param]=t[param],this.filterParams.payment=Math.ceil(this.filterParams.price/100*this.data.initial_pay_percent/this.data.price_step)*this.data.price_step}},methods:{changedPriceSlider(t){this.filterParams.price=t;var e=Math.floor(t/100*this.data.percents[0]/this.data.price_step)*this.data.price_step,r=Math.ceil(t/100*this.data.percents[1]/this.data.price_step)*this.data.price_step;this.firstPaymentData.ranges=[e,r],this.filterParams.payment=this.checkPayment(t,this.filterParams.payment),this.filterParams.paymentPercent=100*this.filterParams.payment/t},changedPaymentSlider(t){this.filterParams.payment=t,this.filterParams.paymentPercent=100*t/this.filterParams.price},checkPayment(t,e){var r=Math.floor(t/100*this.data.percents[0]/this.data.price_step)*this.data.price_step,n=Math.ceil(t/100*this.data.percents[1]/this.data.price_step)*this.data.price_step;return e<r?r:e>n?n:e},changedYearSlider(t){this.filterParams.time=t},sendData(){var t=null;if("mortgage"===this.type){var{price:e,payment:r,paymentPercent:n,time:time}=this.filterParams;t={price:e,payment:r,creditSum:e-r,paymentPercent:n,time:time}}else{var{price:l,payment:o,time:c}=this.filterParams;t={price:l,payment:o,creditSum:l-o,time:c}}this.$emit("changeParams",t)},setInitParams(){var t=Math.floor(this.data.initial_price/100*this.data.percents[0]/this.data.price_step)*this.data.price_step,e=Math.ceil(this.data.initial_price/100*this.data.percents[1]/this.data.price_step)*this.data.price_step;this.firstPaymentData.ranges=[t,e],this.filterParamsInit.payment=Math.ceil(this.data.initial_price/100*this.data.initial_pay_percent/this.data.price_step)*this.data.price_step,this.filterParamsInit.price=this.data.initial_price,"mortgage"===this.type?this.filterParamsInit.time=this.data.initial_year_value:this.filterParamsInit.time=this.data.initial_month_value},setDefaultParams(){this.filterParams.payment=this.filterParamsInit.payment,this.filterParams.price=this.filterParamsInit.price,this.filterParams.time=this.filterParamsInit.time}}},m=(r(423),r(31)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"filter-mortgage",class:t.classList},[e("div",{staticClass:"filter-mortgage__row"},[t._m(0),t._v(" "),e("div",{staticClass:"filter-mortgage__item"},[e("div",{staticClass:"filter-mortgage__label"},[t._v("Стоимость квартиры")]),t._v(" "),e("t-range-slider",{attrs:{range:t.data.prices,value:t.filterParams.price,step:t.data.price_step,"format-type":"money",mod:"white",type:"price"},on:{change:t.changedPriceSlider}})],1),t._v(" "),e("div",{staticClass:"filter-mortgage__item"},[e("div",{staticClass:"filter-mortgage__label"},[t._v("Первоначальный взнос")]),t._v(" "),e("t-range-slider",{attrs:{range:t.firstPaymentData.ranges,value:t.filterParams.payment,step:t.data.price_step,"format-type":"money",mod:"white",type:"firstPayment",percent:t.filterParams.paymentPercent},on:{change:t.changedPaymentSlider}})],1),t._v(" "),e("div",{staticClass:"filter-mortgage__item"},[e("div",{staticClass:"filter-mortgage__label"},[t._v("Срок кредитования")]),t._v(" "),"mortgage"===t.type?[e("t-range-slider",{attrs:{range:t.data.years,value:t.filterParams.time,step:t.data.year_step,"format-type":"year",mod:"white",type:"time"},on:{change:t.changedYearSlider}})]:[e("t-range-slider",{attrs:{range:t.data.months,value:t.filterParams.time,step:t.data.month_step,"format-type":"month",mod:"white",type:"time"},on:{change:t.changedYearSlider}})]],2),t._v(" "),"installment"===t.type?e("div",{staticClass:"filter-mortgage__item orange"},[e("div",{staticClass:"filter-mortgage__label"},[t._v("Ежемесячный взнос")]),t._v(" "),e("div",{staticClass:"filter-mortgage__payment"},[t._v("\n        "+t._s(t.installmentPay.toLocaleString("ru-RU"))+" "),e("t-ruble"),t._v(" "),e("small",{staticClass:"filter-mortgage__special",class:{_show:t.filterParams.time>6}},[t._v("+1"),e("t-ruble",{attrs:{symbol:"%"}}),t._v(" на остаток ежемесячно, начиная с 7 месяца")],1)],1)]):t._e()])])}),[function(){var t=this._self._c;return t("div",{staticClass:"elf"},[t("img",{attrs:{src:"/svg/purchase_elf.svg",alt:""}})])}],!1,null,"05000d6c",null);e.default=component.exports},444:function(t,e,r){"use strict";r.r(e);r(10),r(12),r(32);var n=r(274),l={name:"TSorterMortgage",components:{},model:{prop:"values",event:"change"},props:{type:{type:String,default:""},mod:{type:[Array,String],default:""},sortList:{type:Array,default:()=>[]},values:{type:Object,default:()=>{}}},data:()=>({isActive:!1,currentTab:""}),computed:{modClass(){return Object(n.a)(this.mod)},classList(){return Object.assign({},this.modClass)}},methods:{toggle(i){this.currentTab=i,this.isActive=!this.isActive},setSort(t,e){this.$emit("change",{name:t,dir:"asc"===e?"desc":"asc"})}}},o=(r(424),r(31)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"sorter-line",class:t.classList},[t._l(t.sortList,(function(r,n){return e("div",{key:n,staticClass:"sorter-line__item",class:"_item".concat(n+1)},[e("button",{on:{click:function(e){return t.setSort(r.value,t.values.dir)}}},[e("span",{staticClass:"sorter-line__name desktop",class:{_active:n===t.currentTab&&t.isActive},on:{click:function(e){return t.toggle(n)}}},[t._v(t._s(r.name)),e("svg-icon",{attrs:{name:"arrow-down"}})],1),t._v(" "),e("span",{staticClass:"sorter-line__name tablet",class:{_active:n===t.currentTab&&t.isActive},on:{click:function(e){return t.toggle(n)}}},[t._v(t._s(r.nameSmMinus)),e("svg-icon",{attrs:{name:"arrow-down"}})],1)])])})),t._v(" "),e("div",{staticClass:"sorter-line__hidden"})],2)}),[],!1,null,"4deb59f1",null);e.default=component.exports},457:function(t,e,r){"use strict";r(363)},493:function(t,e,r){"use strict";r.r(e);r(109);var n=r(16),l=(r(32),r(10),r(514),r(515),r(516),r(517),r(518),r(519),r(520),r(521),r(522),r(523),r(524),r(525),r(526),r(527),r(528),r(529),r(12),r(530),r(391)),o=r(279),c=r(278),d=r.n(c),m=(t,e,r)=>(void 0===r&&(r=e,e=0),t>=Math.min(e,r)&&t<=Math.max(e,r)),h=r(274),_=r(281),v=(t,e,r)=>{var n=t/12/100,l=12*e,o=r*(n*Math.pow(1+n,l)/(Math.pow(1+n,l)-1));return Math.round(o)},f=r(376),y=r(437),C=r(438),k=r(439),w=r(440),S=r(441),O=r(442),P=r(301),T=r(306),x=r(443),j=r(444);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}o.a.registerPlugin(d.a);var M={name:"TPurchase",components:{TTabs:f.default,TPurchaseSteps:y.default,TInstallmentInfo:S.default,TBankItem:C.default,TCard:k.default,TPurchaseDocs:w.default,TQuestions:O.default,TButton:P.default,TSelect:T.default,TFilterMortgage:x.default,TSorterMortgage:j.default},props:{type:{type:String,default:""},mod:{type:String,default:""},data:{type:Object,default:()=>{}},navs:{type:Array,default:()=>[]}},data:()=>({currentTab:void 0,isPopupShow:!1,typePopup:"",creditSum:null,filteredBanks:[],sortName:"price",sortDir:"asc",filterParams:null,itemsVisible:0,reset:!1,installmentPay:0,filteredTypes:[],currentSort:{name:"",dir:""},sortBanks:[{name:"Банк",nameShort:"Банк",value:"",dir:"",active:!1},{name:"Программа",nameShort:"Программа",value:"",dir:"",active:!1},{name:"Ставка",nameShort:"Ставка",value:"rate",dir:"asc",active:!1},{name:"Сумма кредита",nameShort:"Сум. кредита",value:"",dir:"",active:!1},{name:"Cрок",nameShort:"Cрок",value:"year_to",dir:"",active:!1},{name:"Ежемесячный платёж",nameShort:"Платёж",value:"month",dir:"",active:!0}],sortDrop:[{name:"Ставка по возрастанию",value:"rate",dir:"asc",active:!1},{name:"Ставка по убыванию",value:"rate",dir:"desc",active:!1},{name:"Платеж по возрастанию",value:"month",dir:"asc",active:!1},{name:"Платеж по убыванию",value:"month",dir:"desc",active:!1}],screenXs:!1}),computed:{steps(){return this.data.steps},modClass(){return Object(h.a)(this.mod)},classList(){return Object.assign({},this.modClass)},itemsLimit(){return this.data.calc.ranges.items_limit},banks(){return this.$store.state.mortgage.banks},banksList(){return this.filteredBanks.slice(0,this.itemsVisible)},typesList(){return this.filteredTypes.slice(0,this.itemsVisible)},remainItems(){return"installment"===this.type?this.filteredTypes.length-this.itemsVisible:this.filteredBanks.length-this.itemsVisible},remainItemText(){var text=Object(_.a)(this.remainItems,["вариант","варианта","вариантов"]);return"".concat(this.remainItems," ").concat(text)},container(){return this.$refs.container},containe2(){return this.$refs.container2},calc(){return this.$refs.calc},docs(){return this.$refs.docs}},mounted(){this.$nextTick((()=>{window.matchMedia("(max-width: 1024px)").matches||this.setAnimation()}))},created(){this.currentTab=0,this.itemsVisible=this.itemsLimit},methods:{setAnimation(){o.a.set(this.calc,{y:"+0%"}),o.a.set(this.docs,{y:"+0%"})},runAnimation(){var t={trigger:this.container,scrub:1,start:"-=100%",end:"+=100%"};o.a.to([this.calc],{y:"-30%",scrollTrigger:t})},runAnimation1(){var t={trigger:this.container2,scrub:1,start:"-=900%",end:"+=100%"};o.a.to([this.docs],{y:"-30%",scrollTrigger:t})},tabChange(t){this.$router.push(t.code)},month:t=>Object(_.a)(t,["месяц","месяца","месяцев"]),filterBanks(t){this.itemsVisible=this.itemsLimit,this.filterParams=t;var e=null;e=(e=(e=this.banks.filter((e=>m(t.time,e.year_from,e.year_to)))).filter((e=>m(t.creditSum,e.sum_credit_from,e.sum_credit_to)))).filter((e=>m(t.paymentPercent,e.first_pay_from,e.first_pay_to)));var r=[];[...new Set(e.map((t=>t.bank_id)))].map((r=>{var n=e.find((t=>t.bank_id===r)),l=e.filter((t=>t.bank_id===r&&t.id!==n.id)),o=[];return l.forEach((e=>{o.push($($({},e),{},{month:v(e.rate,t.time,t.creditSum),summa:t.creditSum}))})),{best:n,others:o}})).forEach((e=>{r.push($($({},e.best),{},{others:e.others,summa:t.creditSum,month:v(e.best.rate,t.time,t.creditSum)}))})),r=Object(l.sortBy)(r,[this.currentSort.name]),"desc"===this.currentSort.dir&&(r=r.reverse()),this.filteredBanks=r;var n={price:this.filterParams.price,payment:this.filterParams.payment,time:this.filterParams.time};this.saveStateToURL(n)},moreItems(){this.itemsVisible+=this.itemsLimit},resetHandler(){this.reset=!0,setTimeout((()=>{this.reset=!1}),200)},filterTypes(t){this.itemsVisible=this.itemsLimit,this.filterParams=t,this.installmentPay=Math.round(t.creditSum/t.time),this.filteredTypes=this.data.calc.types.filter((e=>e.price_to<=t.creditSum));var e={price:this.filterParams.price,payment:this.filterParams.payment,time:this.filterParams.time};this.saveStateToURL(e)},changeSortBanks(t){this.currentSort.name=t.name,this.currentSort.dir=t.dir,this.filterBanks(this.filterParams)},saveStateToURL:Object(l.debounce)((function(t){var e=this.$route.query,r=this.$route.path;this.$router.push({path:"".concat(r),query:Object.assign({},e,t)})}),500)}},A=(r(457),r(31)),component=Object(A.a)(M,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"purchase",class:t.classList},["installment"===t.type?[e("div",{ref:"container",staticClass:"purchase__top installment container"},[e("div",{staticClass:"purchase__title"},[t._v("УСЛОВИЯ ПОКУПКИ")]),t._v(" "),e("t-tabs",{attrs:{tabs:t.navs,type:"purchase"},on:{change:t.tabChange},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}})],1),t._v(" "),e("t-installment-info",{attrs:{data:t.data.info}}),t._v(" "),e("div",{ref:"calc",staticClass:"purchase__calc container"},[e("div",{staticClass:"decor"},[e("svg-icon",{attrs:{name:"cut-form"}})],1),t._v(" "),e("div",{staticClass:"purchase__calc-top"},[e("div",{staticClass:"purchase__calc-title"},[t._v(t._s(t.data.calc.title))]),t._v(" "),e("div",{staticClass:"purchase__calc-text"},[t._v("\n          Для того, чтобы покупка жилья стала еще доступнее, мы предлагаем нашим клиентам различные кредитные программы на приобретение недвижимости от\n          банков-партнеров.\n        ")])]),t._v(" "),e("t-filter-mortgage",{attrs:{mod:"installment",type:"installment",data:t.data.calc.ranges,"installment-pay":t.installmentPay,reset:t.reset},on:{changeParams:t.filterTypes}}),t._v(" "),t.typesList.length?[e("div",{staticClass:"purchase__results"},[e("div",{staticClass:"purchase__results-title"},[t._v(t._s(t.data.calc.types_title))]),t._v(" "),e("div",{staticClass:"purchase__results-inner"},t._l(t.typesList,(function(t){return e("t-card",{key:t.id,attrs:{data:t,type:"type",mod:"purchase"}})})),1),t._v(" "),t.remainItems>0?e("t-button",{ref:"container2",staticClass:"purchase__remain",attrs:{mod:"purchase"},nativeOn:{click:function(e){return t.moreItems.apply(null,arguments)}}},[t._v("показать еще ")]):t._e()],1)]:[e("div",{staticClass:"placeholder"},[e("p",{staticClass:"placeholder-text"},[t._v("ПО ВАШЕМУ ЗАПРОСУ НИЧЕГО НЕ НАЙДЕНО")]),t._v(" "),e("t-button",{staticClass:"placeholder-btn",attrs:{type:"button",mod:"default"},nativeOn:{click:function(e){return t.resetHandler.apply(null,arguments)}}},[t._v("очистить фильтр")])],1)]],2),t._v(" "),e("div",{ref:"docs"},[e("t-purchase-docs",{attrs:{data:t.data.docs.items}})],1),t._v(" "),e("t-questions")]:[e("div",{ref:"container",staticClass:"purchase__top container"},[e("div",{staticClass:"purchase__title"},[t._v("УСЛОВИЯ ПОКУПКИ")]),t._v(" "),e("t-tabs",{attrs:{tabs:t.navs,type:"purchase"},on:{change:t.tabChange},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}})],1),t._v(" "),e("t-purchase-steps",{attrs:{data:t.data.steps}}),t._v(" "),e("div",{staticClass:"purchase__calc container"},[e("div",{staticClass:"decor"},[e("svg-icon",{attrs:{name:"cut-form"}})],1),t._v(" "),e("div",{staticClass:"purchase__calc-top"},[e("div",{staticClass:"purchase__calc-title"},[t._v(t._s(t.data.calc.title))]),t._v(" "),e("div",{staticClass:"purchase__calc-text",domProps:{innerHTML:t._s(t.data.calc.description)}})]),t._v(" "),e("t-filter-mortgage",{attrs:{mod:"mortgage",type:"mortgage",data:t.data.calc.ranges,reset:t.reset},on:{changeParams:t.filterBanks}}),t._v(" "),t.filteredBanks.length?[e("div",{staticClass:"purchase__results"},[e("t-sorter-mortgage",{staticClass:"purchase__sorterLine",attrs:{"sort-list":t.sortBanks,mod:"banks"},on:{change:t.changeSortBanks},model:{value:t.currentSort,callback:function(e){t.currentSort=e},expression:"currentSort"}}),t._v(" "),e("div",{staticClass:"purchase__select"},[e("t-select",{attrs:{options:t.sortDrop,type:"purchase",mod:"purchase"},on:{change:t.changeSortBanks},model:{value:t.currentSort,callback:function(e){t.currentSort=e},expression:"currentSort"}})],1),t._v(" "),e("div",{staticClass:"purchase__banks"},t._l(t.banksList,(function(t,r){return e("t-bank-item",{key:t.id,attrs:{index:r,bank:t,more:!1}})})),1),t._v(" "),t.remainItems>0?e("t-button",{ref:"container2",staticClass:"purchase__remain",attrs:{mod:"purchase"},nativeOn:{click:function(e){return t.moreItems.apply(null,arguments)}}},[t._v("показать еще ")]):t._e()],1)]:[e("div",{staticClass:"placeholder"},[e("p",{staticClass:"placeholder-text"},[t._v("ПО ВАШЕМУ ЗАПРОСУ НИЧЕГО НЕ НАЙДЕНО")]),t._v(" "),e("t-button",{staticClass:"placeholder-btn",attrs:{type:"button",mod:"default"},nativeOn:{click:function(e){return t.resetHandler.apply(null,arguments)}}},[t._v("очистить фильтр")])],1)]],2),t._v(" "),e("div",{ref:"docs"},[e("t-purchase-docs",{attrs:{data:t.data.docs.items}})],1),t._v(" "),e("t-questions")]],2)}),[],!1,null,"f6097be6",null);e.default=component.exports}}]);