(window.webpackJsonp=window.webpackJsonp||[]).push([[102,53,62,78],{343:function(t,o,e){"use strict";e(12),e(22);o.a=function(param){var t={};return param&&(Array.isArray(param)?param.forEach((function(o){t["_".concat(o)]=!0})):t["_".concat(param)]=!0),t}},345:function(t,o,e){},349:function(t,o,e){"use strict";e.r(o);var n=e(343),c={name:"TButton",props:{mod:{type:[Array,String],default:""},type:{type:String,default:""}},computed:{modClass:function(){return Object(n.a)(this.mod)},classList:function(){return Object.assign({},this.modClass,this.disableClass,this.errorClass)}}},r=(e(351),e(51)),component=Object(r.a)(c,(function(){var t=this;return(0,t._self._c)("button",{staticClass:"button",class:t.classList},[t._t("default")],2)}),[],!1,null,"6bce06d2",null);o.default=component.exports},351:function(t,o,e){"use strict";e(345)},549:function(t,o,e){},614:function(t,o,e){"use strict";e(549)},642:function(t,o,e){},665:function(t,o,e){"use strict";e.r(o);var n=e(5),c=(e(36),e(54),e(12),{name:"TYandexMap",props:{coordinates:{type:Array,default:function(){return[]}},markIcon:{type:String,default:""}},data:function(){return{map:void 0,route:void 0,userCoords:[]}},watch:{coordinates:function(t){this.removePlot(),this.updateMarkers(t)}},mounted:function(){var t=this;window.ymaps&&this.$nextTick((function(){window.ymaps.ready(t.initMap)}))},methods:{initMap:function(){this.map=new window.ymaps.Map(this.$refs.mapEl,{center:this.coordinates,zoom:15,controls:[]},{suppressMapOpenBlock:!0}),this.mapControls(),this.updateMarkers(this.coordinates)},mapControls:function(){var t,o=this,e=window.ymaps.templateLayoutFactory.createClass('<div class="ymaps-controls"></div>',{build:function(){e.superclass.build.call(this),this.locationEl=document.querySelector(".button.contact__btn._contacts"),this.locationEl.addEventListener("click",this.getLocation)},clear:function(){this.locationEl&&this.locationEl.removeEventListener("click",this.getLocation),e.superclass.clear.call(this)},getLocation:(t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.plotRoute();case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}),c=new window.ymaps.control.Button({options:{layout:e}});this.map.controls.add(c)},placemark:function(t){return new window.ymaps.Placemark(t,{},{iconLayout:"default#image",iconImageHref:"/svg/map_logo.svg",iconImageSize:[100,108],iconImageOffset:[-50,-108]})},removePlot:function(){this.route&&this.map.geoObjects.remove(this.route),this.route=null,this.map.geoObjects.each((function(marker){marker.properties.set("plot",!1)}))},plotRoute:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.route){o.next=4;break}t.removePlot(),o.next=9;break;case 4:return o.next=6,t.getUserPosition();case 6:t.route=new window.ymaps.multiRouter.MultiRoute({referencePoints:[t.userCoords,t.coordinates],params:{results:1}},{wayPointVisible:!1,boundsAutoApply:!0,routeActiveStrokeColor:"004D47"}),t.map.geoObjects.add(t.route),t.route.events.once("update",(function(){console.log(t.map.geoObjects),t.map.geoObjects.each((function(marker){marker.properties.set("plot",!0)}))}));case 9:case"end":return o.stop()}}),o)})))()},getUserPosition:function(){var t=this;return new Promise((function(o,e){if(t.userCoords.length)return o(t.userCoords);window.ymaps.geolocation.get({provider:"browser"}).then((function(e){return t.userCoords=e.geoObjects.get(0).geometry._coordinates,o(t.userCoords)})).catch((function(e){window.ymaps.geolocation.get({provider:"yandex"}).then((function(e){return t.userCoords=e.geoObjects.get(0).geometry._coordinates,o(t.userCoords)})).catch((function(t){return console.error("Не могу определить ваше местоположение.")}))}))}))},updateMarkers:function(t){this.map.geoObjects.removeAll(),this.map.geoObjects.add(this.placemark(t))}}}),r=c,l=(e(614),e(51)),component=Object(l.a)(r,(function(){return(0,this._self._c)("div",{ref:"mapEl",staticClass:"map"},[this._t("default")],2)}),[],!1,null,null,null);o.default=component.exports},715:function(t,o,e){"use strict";e(642)},757:function(t,o,e){"use strict";e.r(o);var n=e(665),c=e(349),r={name:"ContactsPage",components:{TYandexMap:n.default,TButton:c.default},data:function(){return{isMapLocked:!0,route:!1,contacts:{title:"контакты",address_object:"г. Уфа, ул. Авроры, д. 18, к. 1",address_office:"г. Уфа, ул. Энтузиастов, 7А",office_time:"9-20 без выходных",coordinates:[55.817264,37.34152],phone:"+7 347 200-11-88",mail:"info@terlepark.ru"}}},mounted:function(){window.ymaps&&(this.ymapsLoaded=!0)},methods:{lockToggle:function(){this.isMapLocked=!this.isMapLocked},routeMap:function(){this.route=!this.route}}},l=(e(715),e(51)),component=Object(l.a)(r,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"contacts"},[o("div",{staticClass:"contacts__wrapper container"},[o("div",{staticClass:"contacts__block"},[o("div",{staticClass:"contacts__info"},[o("div",{staticClass:"contacts__title"},[t._v(t._s(t.contacts.title))]),t._v(" "),o("div",{staticClass:"contacts__list"},[o("div",{staticClass:"contacts__item"},[o("div",{staticClass:"contacts__subtitle"},[t._v("адрес объекта")]),t._v(" "),o("div",{staticClass:"contacts__text",domProps:{innerHTML:t._s(t.contacts.address_object)}})]),t._v(" "),o("div",{staticClass:"contacts__item"},[o("div",{staticClass:"contacts__subtitle"},[t._v("адрес офиса продаж")]),t._v(" "),o("div",{staticClass:"contacts__text",domProps:{innerHTML:t._s(t.contacts.address_office)}}),t._v(" "),o("div",{staticClass:"contacts__work",domProps:{innerHTML:t._s(t.contacts.office_time)}})]),t._v(" "),o("div",{staticClass:"contacts__item"},[o("div",{staticClass:"contacts__subtitle"},[t._v("координаты")]),t._v(" "),o("div",{staticClass:"contacts__text"},[t._v(t._s(t.contacts.coordinates[0])+", "+t._s(t.contacts.coordinates[1]))])]),t._v(" "),o("div",{staticClass:"contacts__item"},[o("div",{staticClass:"contacts__subtitle"},[t._v("контакты")]),t._v(" "),o("a",{staticClass:"contacts__phone",attrs:{href:"tel:"+t.contacts.phone}},[t._v(t._s(t.contacts.phone))]),t._v(" "),o("a",{staticClass:"contacts__text _mail",attrs:{href:"mailto:"+t.contacts.mail}},[t._v(t._s(t.contacts.mail))])]),t._v(" "),o("div",{staticClass:"contacts__item"},[o("t-button",{staticClass:"contact__btn",attrs:{mod:"contacts"},nativeOn:{click:function(o){return t.routeMap.apply(null,arguments)}}},[t._v("Построить маршрут")])],1)])]),t._v(" "),o("div",{staticClass:"contacts__map"},[o("t-yandex-map",{staticClass:"contacts__map-item route",class:{_locked:t.isMapLocked},attrs:{coordinates:t.contacts.coordinates}},[o("div",{staticClass:"contacts__map-lock",class:{_locked:t.isMapLocked},on:{click:t.lockToggle}},[o("span",[t._v("Нажмите для взаимодействия с картой")])])])],1)])])])}),[],!1,null,"5fc1d047",null);o.default=component.exports}}]);